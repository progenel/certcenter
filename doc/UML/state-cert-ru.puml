@startuml
!include plantuml.conf

[*] --> Заявлен
Заявлен --> Выпущен : одобрить и подписать
Заявлен --> Отклонен : политика не пройдена
Выпущен --> Перевыпущен : перевыпуск/renew
Выпущен --> Отозван : отзыв
Выпущен --> Истек : истек срок действия
Перевыпущен --> Выпущен : новый cert активен
Перевыпущен --> Отозван : отзыв нового cert
Перевыпущен --> Истек : истек срок действия
Отозван --> [*]
Истек --> [*]
Отклонен --> [*]

note right of Заявлен
  Заявка создана,\nожидает выпуска
end note

note right of Выпущен
  Активный сертификат\n(используется клиентами)
end note

note right of Перевыпущен
  Новый cert, старый может быть\nотозван отдельно
end note

note right of Отозван
  В CRL, недоверенный
end note

note right of Истек
  Истек срок действия
end note

note right of Отклонен
  Не прошло политику
end note
@enduml
